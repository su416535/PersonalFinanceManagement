{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../utils/apiService';// Use the authenticated API service\nimport{Bar,Pie}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,ArcElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,ArcElement,Title,Tooltip,Legend);const Dashboard=()=>{const[transactions,setTransactions]=useState([]);useEffect(()=>{const fetchTransactions=async()=>{try{const response=await api.get('/transactions');setTransactions(response.data);}catch(error){console.error('Error fetching transactions:',error);}};fetchTransactions();},[]);const income=transactions.filter(t=>t.type==='income').reduce((acc,t)=>acc+t.amount,0);const expense=transactions.filter(t=>t.type==='expense').reduce((acc,t)=>acc+t.amount,0);const savings=transactions.filter(t=>t.type==='savings').reduce((acc,t)=>acc+t.amount,0);const barData={labels:['Income','Expense','Savings'],datasets:[{label:'Finance Overview',data:[income,expense,savings],backgroundColor:['#4caf50','#f44336','#0000ff']}]};const pieData={labels:['Income','Expense','Savings'],datasets:[{label:'Finance Distribution',data:[income,expense,savings],backgroundColor:['#4caf50','#f44336','#0000ff']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(Bar,{data:barData})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(Pie,{data:pieData})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","api","Bar","Pie","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","Dashboard","transactions","setTransactions","fetchTransactions","response","get","data","error","console","income","filter","t","type","reduce","acc","amount","expense","savings","barData","labels","datasets","label","backgroundColor","pieData","className","children"],"sources":["C:/Suresh/Private/Data-Private/EMBA/FinTech/Sem-4-fall-2024/COP/PersonalFinanceManagement/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../utils/apiService'; // Use the authenticated API service\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    ArcElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst Dashboard = () => {\r\n    const [transactions, setTransactions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchTransactions = async () => {\r\n            try {\r\n                const response = await api.get('/transactions');\r\n                setTransactions(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching transactions:', error);\r\n            }\r\n        };\r\n\r\n        fetchTransactions();\r\n    }, []);\r\n\r\n    const income = transactions.filter(t => t.type === 'income').reduce((acc, t) => acc + t.amount, 0);\r\n    const expense = transactions.filter(t => t.type === 'expense').reduce((acc, t) => acc + t.amount, 0);\r\n    const savings = transactions.filter(t => t.type === 'savings').reduce((acc, t) => acc + t.amount, 0);\r\n\r\n    const barData = {\r\n        labels: ['Income', 'Expense', 'Savings'],\r\n        datasets: [{\r\n            label: 'Finance Overview',\r\n            data: [income, expense, savings],\r\n            backgroundColor: ['#4caf50', '#f44336', '#0000ff']\r\n        }]\r\n    };\r\n\r\n    const pieData = {\r\n        labels: ['Income', 'Expense', 'Savings'],\r\n        datasets: [{\r\n            label: 'Finance Distribution',\r\n            data: [income, expense, savings],\r\n            backgroundColor: ['#4caf50', '#f44336', '#0000ff']\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <div className=\"dashboard-container\">\r\n            <h2>Dashboard</h2>\r\n            <div className=\"chart-container\">\r\n                <div className=\"chart\">\r\n                    <Bar data={barData} />\r\n                </div>\r\n                <div className=\"chart\">\r\n                    <Pie data={pieData} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}