{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'../styles.css';import'../pfm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Budgets=()=>{const[budgets,setBudgets]=useState([]);const[form,setForm]=useState({name:'',amount:'',description:'',startDate:'',endDate:''});const[editingBudget,setEditingBudget]=useState(null);useEffect(()=>{const fetchBudgets=async()=>{try{const response=await axios.get('http://localhost:5000/api/budgets');setBudgets(response.data);}catch(error){console.error('Error fetching budgets:',error);}};fetchBudgets();},[]);const handleChange=e=>{const{name,value}=e.target;setForm(prevForm=>({...prevForm,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{if(editingBudget){const response=await axios.put(`/api/budgets/${editingBudget._id}`,form);setBudgets(prevBudgets=>prevBudgets.map(budget=>budget._id===editingBudget._id?response.data:budget));setEditingBudget(null);}else{const response=await axios.post('/api/budgets',form);setBudgets(prevBudgets=>[...prevBudgets,response.data]);}setForm({name:'',amount:'',description:'',startDate:'',endDate:''});}catch(error){console.error('Error saving budget:',error);}};const handleDelete=async id=>{try{await axios.delete(`/api/budgets/${id}`);setBudgets(prevBudgets=>prevBudgets.filter(budget=>budget._id!==id));}catch(error){console.error('Error deleting budget:',error);}};const handleEdit=budget=>{setEditingBudget(budget);setForm({name:budget.name,amount:budget.amount,description:budget.description||'',startDate:budget.startDate.split('T')[0],endDate:budget.endDate.split('T')[0]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Budgets\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"ul\",{children:budgets.map(budget=>/*#__PURE__*/_jsxs(\"li\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:budget.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Amount:\"}),\" $\",budget.amount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",budget.description||'No description']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start Date:\"}),\" \",new Date(budget.startDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"End Date:\"}),\" \",new Date(budget.endDate).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(budget),className:\"submit-btn\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(budget._id),className:\"submit-btn\",children:\"Delete\"})]},budget._id))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"register-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editingBudget?'Edit Budget':'Create New Budget'}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:form.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:form.amount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:form.startDate,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:form.endDate,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:editingBudget?'Update Budget':'Create Budget'})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 Your Company\"})})]});};export default Budgets;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Budgets","budgets","setBudgets","form","setForm","name","amount","description","startDate","endDate","editingBudget","setEditingBudget","fetchBudgets","response","get","data","error","console","handleChange","e","value","target","prevForm","handleSubmit","preventDefault","put","_id","prevBudgets","map","budget","post","handleDelete","id","delete","filter","handleEdit","split","className","children","Date","toLocaleDateString","onClick","onSubmit","type","onChange","required"],"sources":["C:/Suresh/Private/Data-Private/EMBA/FinTech/Sem-4-fall-2024/COP/PersonalFinanceManagement/frontend/src/components/Budgets.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../styles.css';\r\nimport '../pfm.css';\r\n\r\nconst Budgets = () => {\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    amount: '',\r\n    description: '',\r\n    startDate: '',\r\n    endDate: '',\r\n  });\r\n\r\n  const [editingBudget, setEditingBudget] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchBudgets = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/budgets');\r\n        setBudgets(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching budgets:', error);\r\n      }\r\n    };\r\n\r\n    fetchBudgets();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prevForm) => ({ ...prevForm, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (editingBudget) {\r\n        const response = await axios.put(`/api/budgets/${editingBudget._id}`, form);\r\n        setBudgets((prevBudgets) =>\r\n          prevBudgets.map((budget) =>\r\n            budget._id === editingBudget._id ? response.data : budget\r\n          )\r\n        );\r\n        setEditingBudget(null);\r\n      } else {\r\n        const response = await axios.post('/api/budgets', form);\r\n        setBudgets((prevBudgets) => [...prevBudgets, response.data]);\r\n      }\r\n      setForm({\r\n        name: '',\r\n        amount: '',\r\n        description: '',\r\n        startDate: '',\r\n        endDate: '',\r\n      });\r\n    } catch (error) {\r\n      console.error('Error saving budget:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`/api/budgets/${id}`);\r\n      setBudgets((prevBudgets) => prevBudgets.filter((budget) => budget._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting budget:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (budget) => {\r\n    setEditingBudget(budget);\r\n    setForm({\r\n      name: budget.name,\r\n      amount: budget.amount,\r\n      description: budget.description || '',\r\n      startDate: budget.startDate.split('T')[0],\r\n      endDate: budget.endDate.split('T')[0],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"header\">\r\n        <h1>Budgets</h1>\r\n      </header>\r\n      <div className=\"main-content\">\r\n        <div className=\"content\">\r\n          <ul>\r\n            {budgets.map((budget) => (\r\n              <li key={budget._id} className=\"register-container\">\r\n                <h2>{budget.name}</h2>\r\n                <p><strong>Amount:</strong> ${budget.amount}</p>\r\n                <p><strong>Description:</strong> {budget.description || 'No description'}</p>\r\n                <p><strong>Start Date:</strong> {new Date(budget.startDate).toLocaleDateString()}</p>\r\n                <p><strong>End Date:</strong> {new Date(budget.endDate).toLocaleDateString()}</p>\r\n                <button onClick={() => handleEdit(budget)} className=\"submit-btn\">Edit</button>\r\n                <button onClick={() => handleDelete(budget._id)} className=\"submit-btn\">Delete</button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <form onSubmit={handleSubmit} className=\"register-form\">\r\n            <h2>{editingBudget ? 'Edit Budget' : 'Create New Budget'}</h2>\r\n            <div className=\"form-group\">\r\n              <label>Name:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={form.name}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Amount:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"amount\"\r\n                value={form.amount}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Description:</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={form.description}\r\n                onChange={handleChange}\r\n              ></textarea>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Start Date:</label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"startDate\"\r\n                value={form.startDate}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>End Date:</label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"endDate\"\r\n                value={form.endDate}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"submit-btn\">{editingBudget ? 'Update Budget' : 'Create Budget'}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <footer className=\"footer\">\r\n        <p>&copy; 2024 Your Company</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Budgets;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}