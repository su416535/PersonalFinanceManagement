{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../utils/apiService';// Authenticated API service\nimport'../styles.css';import'../pfm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Goals=()=>{const[goals,setGoals]=useState([]);const[form,setForm]=useState({name:'',targetAmount:'',savedAmount:'',description:'',deadline:''});const[editingGoal,setEditingGoal]=useState(null);useEffect(()=>{const fetchGoals=async()=>{try{const response=await api.get('/goals');setGoals(response.data);}catch(error){console.error('Error fetching goals:',error);}};fetchGoals();},[]);const handleChange=e=>{const{name,value}=e.target;setForm(prevForm=>({...prevForm,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{if(editingGoal){const response=await api.put(`/goals/${editingGoal._id}`,form);setGoals(prev=>prev.map(goal=>goal._id===editingGoal._id?response.data:goal));setEditingGoal(null);}else{const response=await api.post('/goals',form);setGoals(prev=>[...prev,response.data]);}setForm({name:'',targetAmount:'',savedAmount:'',description:'',deadline:''});}catch(error){console.error('Error saving goal:',error);}};const handleEdit=goal=>{setEditingGoal(goal);setForm({name:goal.name,targetAmount:goal.targetAmount,savedAmount:goal.savedAmount,description:goal.description,deadline:goal.deadline.split('T')[0]});};const handleDelete=async id=>{try{await api.delete(`/goals/${id}`);setGoals(prev=>prev.filter(goal=>goal._id!==id));}catch(error){console.error('Error deleting goal:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"goals-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Goals\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"goals-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"goal-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:editingGoal?'Edit Goal':'Create New Goal'}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:form.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Target Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"targetAmount\",value:form.targetAmount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Saved Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"savedAmount\",value:form.savedAmount,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Deadline:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"deadline\",value:form.deadline,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:editingGoal?'Update Goal':'Create Goal'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"goals-list\",children:goals.map(goal=>/*#__PURE__*/_jsxs(\"div\",{className:\"goal-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:goal.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Target Amount:\"}),\" $\",goal.targetAmount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Saved Amount:\"}),\" $\",goal.savedAmount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),' ',goal.description||'No description']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Deadline:\"}),' ',new Date(goal.deadline).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"goal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(goal),className:\"action-btn edit-btn\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(goal._id),className:\"action-btn delete-btn\",children:\"Delete\"})]})]},goal._id))})]})]});};export default Goals;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","Goals","goals","setGoals","form","setForm","name","targetAmount","savedAmount","description","deadline","editingGoal","setEditingGoal","fetchGoals","response","get","data","error","console","handleChange","e","value","target","prevForm","handleSubmit","preventDefault","put","_id","prev","map","goal","post","handleEdit","split","handleDelete","id","delete","filter","className","children","onSubmit","type","onChange","required","Date","toLocaleDateString","onClick"],"sources":["C:/Suresh/Private/Data-Private/EMBA/FinTech/Sem-4-fall-2024/COP/PersonalFinanceManagement/frontend/src/components/Goals.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../utils/apiService'; // Authenticated API service\r\nimport '../styles.css';\r\nimport '../pfm.css';\r\n\r\nconst Goals = () => {\r\n    const [goals, setGoals] = useState([]);\r\n    const [form, setForm] = useState({\r\n        name: '',\r\n        targetAmount: '',\r\n        savedAmount: '',\r\n        description: '',\r\n        deadline: '',\r\n    });\r\n    const [editingGoal, setEditingGoal] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchGoals = async () => {\r\n            try {\r\n                const response = await api.get('/goals');\r\n                setGoals(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching goals:', error);\r\n            }\r\n        };\r\n\r\n        fetchGoals();\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setForm((prevForm) => ({ ...prevForm, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (editingGoal) {\r\n                const response = await api.put(`/goals/${editingGoal._id}`, form);\r\n                setGoals((prev) =>\r\n                    prev.map((goal) =>\r\n                        goal._id === editingGoal._id ? response.data : goal\r\n                    )\r\n                );\r\n                setEditingGoal(null);\r\n            } else {\r\n                const response = await api.post('/goals', form);\r\n                setGoals((prev) => [...prev, response.data]);\r\n            }\r\n            setForm({\r\n                name: '',\r\n                targetAmount: '',\r\n                savedAmount: '',\r\n                description: '',\r\n                deadline: '',\r\n            });\r\n        } catch (error) {\r\n            console.error('Error saving goal:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (goal) => {\r\n        setEditingGoal(goal);\r\n        setForm({\r\n            name: goal.name,\r\n            targetAmount: goal.targetAmount,\r\n            savedAmount: goal.savedAmount,\r\n            description: goal.description,\r\n            deadline: goal.deadline.split('T')[0],\r\n        });\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await api.delete(`/goals/${id}`);\r\n            setGoals((prev) => prev.filter((goal) => goal._id !== id));\r\n        } catch (error) {\r\n            console.error('Error deleting goal:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"goals-container\">\r\n            <header className=\"header\">\r\n                <h1>Goals</h1>\r\n            </header>\r\n            <div className=\"goals-content\">\r\n                {/* Left: Create/Edit Form */}\r\n                <div className=\"goal-form\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <h2>{editingGoal ? 'Edit Goal' : 'Create New Goal'}</h2>\r\n                        <div className=\"form-group\">\r\n                            <label>Name:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                value={form.name}\r\n                                onChange={handleChange}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Target Amount:</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"targetAmount\"\r\n                                value={form.targetAmount}\r\n                                onChange={handleChange}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Saved Amount:</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"savedAmount\"\r\n                                value={form.savedAmount}\r\n                                onChange={handleChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Description:</label>\r\n                            <textarea\r\n                                name=\"description\"\r\n                                value={form.description}\r\n                                onChange={handleChange}\r\n                            ></textarea>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Deadline:</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                name=\"deadline\"\r\n                                value={form.deadline}\r\n                                onChange={handleChange}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"submit-btn\">\r\n                            {editingGoal ? 'Update Goal' : 'Create Goal'}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Right: Goals List */}\r\n                <div className=\"goals-list\">\r\n                    {goals.map((goal) => (\r\n                        <div key={goal._id} className=\"goal-card\">\r\n                            <h2>{goal.name}</h2>\r\n                            <p>\r\n                                <strong>Target Amount:</strong> ${goal.targetAmount}\r\n                            </p>\r\n                            <p>\r\n                                <strong>Saved Amount:</strong> ${goal.savedAmount}\r\n                            </p>\r\n                            <p>\r\n                                <strong>Description:</strong>{' '}\r\n                                {goal.description || 'No description'}\r\n                            </p>\r\n                            <p>\r\n                                <strong>Deadline:</strong>{' '}\r\n                                {new Date(goal.deadline).toLocaleDateString()}\r\n                            </p>\r\n                            <div className=\"goal-actions\">\r\n                                <button\r\n                                    onClick={() => handleEdit(goal)}\r\n                                    className=\"action-btn edit-btn\"\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => handleDelete(goal._id)}\r\n                                    className=\"action-btn delete-btn\"\r\n                                >\r\n                                    Delete\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Goals;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}